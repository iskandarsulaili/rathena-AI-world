# P2P Network Quality Configuration

[Thresholds]
# Latency thresholds in milliseconds
min_latency = 50
warning_latency = 100
critical_latency = 200

# Bandwidth thresholds in Mbps
min_upload = 10
min_download = 20
warning_bandwidth = 5

# Packet loss thresholds as percentage
max_packet_loss = 1.0
warning_packet_loss = 0.5
critical_packet_loss = 2.0

# Jitter thresholds in milliseconds
max_jitter = 20
warning_jitter = 10

[Scoring]
# Scoring weights (must sum to 1.0)
latency_weight = 0.4
bandwidth_weight = 0.3
stability_weight = 0.3

# Score adjustments
latency_penalty_factor = 2.0  # Points deducted per ms above min_latency
bandwidth_bonus_factor = 10.0 # Points added per Mbps above minimum
stability_penalty_factor = 10.0 # Points deducted per 0.1% packet loss

[Testing]
# Test intervals in seconds
latency_test_interval = 30
bandwidth_test_interval = 300
full_test_interval = 1800

# Test parameters
test_samples = 10
test_timeout = 5000

[LoadBalancing]
# Load balancing parameters
max_sessions_per_host = 100
session_scaling_factor = 1.2
bandwidth_reserve_percent = 20

[Recovery]
# Recovery parameters in seconds
grace_period = 300
recovery_check_interval = 60
max_recovery_attempts = 3

[WARP]
# WARP client integration settings
enable_warp_routing = true
warp_latency_threshold = 150  # Switch to WARP if latency exceeds this (ms)
warp_packet_loss_threshold = 1.0  # Switch to WARP if packet loss exceeds this (%)
warp_retry_interval = 300  # Time between WARP connection attempts (seconds)
warp_fallback_timeout = 1800  # Time before falling back to direct (seconds)

[Monitoring]
# Monitoring settings
enable_prometheus = true
prometheus_port = 9100
metrics_path = "/metrics/network"
collection_interval = 15

# Alert thresholds for consecutive failures
alert_consecutive_failures = 3
alert_interval = 300

[Security]
# Security settings
max_connection_attempts = 5
lockout_duration = 300
enable_ddos_protection = true
rate_limit_interval = 60
max_requests_per_interval = 1000